<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:databainig.coleccion.views"
             xmlns:models ="clr-namespace:databainig.coleccion.models"
             x:DataType="views:Mainpage"
             x:Class="databainig.coleccion.views.Mainpage"
             Title="Mainpage">
    <Grid 
        RowDefinitions="Auto, *, Auto"
        Padding="16" >


        <CollectionView
            Grid.Row="1"
            BackgroundColor="Teal"
            ItemsSource="{Binding Path=Origenes}"
            SelectionMode="Single"
            x:Name="OrigenesLisView"
            EmptyView="Aun no se registran origenes de paquetes"
            SelectionChanged="OrigenesLisView_SelectionChanged"
            SelectedItem="{Binding Path=OrigenSeleccionado}">

            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="models:OrigenDePaquete">
                    <Border Stroke="Blue" Padding="8">
                        <Grid RowDefinitions="auto" 
                              ColumnDefinitions="auto">
                            <CheckBox IsChecked="{Binding EstaHabilitado}" Grid.RowSpan="2" />
                            <Label Grid.Row="1" Text="{Binding Nombre}"/>
                            <Label Grid.Row="1" Grid.Column="1" Text="{Binding Origen}"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>


        <Grid
            ColumnDefinitions="*, Auto, Auto" 
            ColumnSpacing="4">

            <Label
                Text="Origenes del paquete" TextColor="Yellow" />

            <Button
                Grid.Column="1"
                Text="+"  TextColor="Green" FontSize="20" BackgroundColor="White" Clicked="OnAgregarButton_Clicked"/>
            <Button
                Grid.Column="2"
                Text="X" TextColor="Red" BackgroundColor="White" Clicked="OnDeleteButton_Clicked"/>
        </Grid>
        <Grid
            Grid.Row="2"
            RowDefinitions="Auto, Auto, Auto"
            ColumnDefinitions="Auto, *, Auto" ColumnSpacing="20">

            <Label
                Text="Nombre:" TextColor="Black" Padding="10"/>
            <Entry
                 Grid.Column="1"  BackgroundColor="White" TextColor="Black" x:Name="NombreEntry" Text="{Binding NombreDelOrigen}"/>

            <Label
                 Grid.Row="1"
                 Text="Origen:"  TextColor="Black" Padding="10"/>
            <Entry
                Grid.Row="1"
                Grid.Column="1" BackgroundColor="White"  TextColor="Black" x:Name="OrigenEntry" Text="{Binding RutaDeOrigen}"/>

            <Button
                Grid.Row="1"
                Grid.Column="2"
                 Text="Actualizar"  TextColor="Black" Clicked="OnActualizarButton_Clicked"/>
        </Grid>


    </Grid>
</ContentPage>